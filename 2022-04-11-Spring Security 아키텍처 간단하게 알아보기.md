---
aliases: []
categories: []
date-created: April 11, 2022 1:32 PM
tags:
  - Web
date-updated: 2023-02-27 05:57
---
<br><br>
## Spring Security ì˜ í•„í„°

![image](https://s3.ap-northeast-2.amazonaws.com/donkeyadonkey-assets/img/0f5aefa969e3544bc5c8b468c1b5a279.png)

> ê¸°ë³¸ì ìœ¼ë¡œ ì„œë¸”ë¦¿ í•„í„°ë“¤ì— ë§ì€ ê¸°ë°˜ì„ ë‘ê³  ìˆë‹¤.
>
> - ìš”ì²­ì´ ì˜¤ë©´ ì—¬ëŸ¬ Filter ì™€ Servlet ì„ ê°€ì§€ëŠ” **FilterChain** ì„ ë§Œë“ ë‹¤.
> - í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ì€ í•˜ë‚˜ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ í•„í„°ëŠ” ì—¬ëŸ¬ê°œ í†µí•  ìˆ˜ ìˆë‹¤.
> - í•„í„°ëŠ” FilterChain ì„ ì£¼ì…ë°›ëŠ”ë‹¤.
> 	- doFilter ë©”ì„œë“œ ì“°ë©´ ë‹¤ìŒ í•„í„°ë¡œ ë„˜ì–´ê°€ëŠ” ë° ê·¸ë•Œ ì“°ëŠ” ê°ì²´ê°€ FilterChain ê°ì²´ì˜€ìŒ.
> - í•„í„°ì˜ ìˆœì„œëŠ” ë§¤ìš° ì¤‘ìš”

### **DelegatingFilterProxy**

> í•„í„°ì˜ êµ¬í˜„ì²´ ì¤‘ í•˜ë‚˜.
>
> - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ë¼ì´í”„ì‚¬ì´í´ê³¼ ApplicationContext ë¥¼ ì´ì–´ì¤€ë‹¤.
> - ìŠ¤í”„ë§ì´ ë§Œë“¤ì–´ì£¼ëŠ” **DelegatingFilterProxy** ë¼ëŠ” ë¹ˆì€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ë­”ì§€ ëª¨ë¥¸ë‹¤.
> 	- ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ìˆëŠ” ë¹ˆì„ ëª¨ë¦„.
> - ì´ í”„ë¡ì‹œ ë¹ˆì´ ë“±ë¡ë˜ë©´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ìˆëŠ” Filter ì˜ êµ¬í˜„ì²´ì—ê²Œ ëª¨ë‘ ì¼ì„ ë§¡ê¹€.
> - â†’ ì„œë¸”ë¦¿ ë ˆë²¨ì´ ì•„ë‹ˆë¼ ìŠ¤í”„ë§ ë ˆë²¨ì˜ í•„í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

### **FilterChainProxy**

> Spring Security ê°€ ì œê³µí•˜ëŠ” í•„í„°ì˜ í•œ ì¢…ë¥˜ë¡œ, `SecurityFilterChain` ì„ í†µí•´ ë‹¤ë¥¸ í•„í„°ì—ê²Œ ì¼ì„ ìœ„ì„í•œë‹¤.
>
> - ë¬¼ë¡  ì„œë¸”ë¦¿ì´ ì‘ë™í•˜ëŠ” ë§¥ë½ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆë„ë¡ `DelegatingFilterProxy` ë¡œ ê°ì‹¸ì ¸ì„œ ì‘ë™í•˜ê²Œ ëœë‹¤.

### SecurityFilterChain

![image](https://s3.ap-northeast-2.amazonaws.com/donkeyadonkey-assets/img/9a755c2e7e2c58640bef281c463b1f4e.png)

> ì–´ë–¤ Spring Security Filter(ì¦‰, ì–´ë–¤ SecurityFilterChain) ê°€ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•œë‹¤.
>
> - Spring Security í•„í„°ë“¤ì€ ë³´í†µ ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” `FilterChainProxy` ê°€ ë“±ë¡í•´ì¤€ë‹¤.
> - Spring ë ˆë²¨ì˜ DelegatingFilterProxy ê°€ ì§ì ‘ ê²°ì •í•˜ì§€ ì•Šê³  `FilterChainProxy` ë¥¼ ì”€ìœ¼ë¡œì¨ ë‹¤ì–‘í•œ ì´ì ì´ ìˆë‹¤.
>
> 	- Spring Security ê°€ ì„œë¸”ë¦¿ ê´€ë ¨ ê¸°ëŠ¥ì„ ì§ì ‘ ì§€ì›í•œë‹¤.
> 	- í•„í„°ëŠ” url ì— ì˜ì¡´í•˜ì—¬ í˜¸ì¶œë˜ì§€ë§Œ `FilterChainProxy` ëŠ” ìš”ì²­ ê°ì²´ì˜ ì–´ëŠ ë¶€ë¶„ì— ëŒ€í•´ì„œë“  í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.
> 		- ì´ë•Œ RequestMatcher ë¥¼ ì‚¬ìš©í•¨.
>
> 	  <aside>
> 	  ğŸ“Œ ê²°ê³¼ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ê³„ì™€ ë¶„ë¦¬ë˜ì–´ì„œ ë³´ì•ˆ ê´€ë ¨ ë¡œì§ì„ ë¶„ë¦¬ë˜ê³  í›¨ì”¬ êµ¬ì²´ì ì´ê²Œ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ëŠ” ë“¯.
>
> 	  </aside>

> ì–´ë–¤ SecurityFilterChain ì„ ì‚¬ìš©í•  ê²ƒì¸ê°€?
>
> - ë” êµ¬ì²´ì ì¸ URL íŒ¨í„´ì— í•´ë‹¹í•˜ëŠ” í•„í„° ì²´ì¸
> 	- ì˜ˆë¥¼ ë“¤ì–´ /** ë³´ë‹¤ëŠ” /api/** ì— í•´ë‹¹ë˜ëŠ” ìš”ì²­ì´ ìˆìœ¼ë©´ ê·¸ í•„í„° ì²´ì¸ì´ ì ìš©ë¨.

> í•„í„°ì˜ ê°œìˆ˜ë„ ììœ ë¡­ë‹¤.
>
> í•„í„°ì²´ì¸ì— ìˆëŠ” í•„í„°ëŠ” ë…ë¦½ì ì´ê³  ì–´ëŠ í•„í„°ì²´ì¸ì— ë„£ì„ ìˆ˜ ìˆë‹¤. 0 ê°œë„ ë„£ì„ ìˆ˜ ìˆìŒ.
<br><br>
## Security Filters

<aside>
ğŸ“Œ í•„í„° ì¢…ë¥˜ë¥¼ ë‹¤ ì•Œí•„ìš”ëŠ” ì—†ì§€ë§Œ í•„ìš”í•  ë•Œ ì°¾ì•„ë³´ë©´ ë  ê²ƒ ê°™ë‹¤. 
ë¬¸ì„œì—ì„œë„ ëª¨ë“  í•„í„°ì— ëŒ€í•´ ì„¤ëª…í•˜ì§€ëŠ” ì•Šê³ , ë™ì‘ ì˜ˆì‹œë¥¼ ë³´ê³  ì§ì ‘ ì½”ë“œ ë‚´ êµ¬ì¡°ë¥¼ íŒŒì•…í•´ì„œ ì‚¬ìš©í•˜ì.

</aside>

[Architecture](https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-security-filters)
